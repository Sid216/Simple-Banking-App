<table><tr><td> <em>Assignment: </em> IS601 Milestone 2 Bank Project</td></tr>
<tr><td> <em>Student: </em> Siddhant Nayak (Sid) (sgn26)</td></tr>
<tr><td> <em>Generated: </em> 5/1/2023 5:16:37 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IS601-006-S23/is601-milestone-2-bank-project/grade/sgn26" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol><li>Checkout Milestone2 branch</li><li>Create a new markdown file called milestone2.md</li><li>git add/commit/push immediate</li><li>Fill in the below deliverables</li><li>At the end copy the markdown and paste it into milestone2.md</li><li>Add/commit/push the changes to Milestone2</li><li>PR Milestone2 to dev and verify</li><li>PR dev to prod and verify</li><li>Checkout dev locally and pull changes to get ready for Milestone 3</li><li>Submit the direct link to this new milestone2.md file from your GitHub prod branch to Canvas</li></ol><p>Note: Ensure all images appear properly on github and everywhere else. Images are only accepted from dev or prod, not local host. All website links must be from prod (you can assume/infer this by getting your dev URL and changing dev to prod).</p></td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Create Accounts table and setup </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot from the db of the system user (Users table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/234611691-55fa635d-fb94-49bc-b024-1a2e2bcc84f1.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>The one marked with the arrow is the system user<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot from the db of the world account (Accounts table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/234610906-8d4d7cbd-d4ad-4d3e-822e-b290348034b3.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>The first account is the world account<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Explain the purpose and usage of these two entries and how they relate</td></tr>
<tr><td> <em>Response:</em> <p>To have transactions done in pairs<br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Dashboard </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the requested links/navigation</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502764-4430b6a7-9b7e-42d9-8fb0-ce8cd02108fb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Withdraw form<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502766-dd1af3a3-de6a-40b7-91e1-3313d1b9677e.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Account details<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502768-adb4fb5c-582b-4c82-b887-fe2557a1f4c0.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Transfer<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502769-e688eefe-67a1-4782-a35a-5a76bfc75ebc.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Login page<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502773-9f03b805-2c93-4f5e-ae49-1bdadb3b30cb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>My account page<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502775-4e7e2e41-6157-4ddc-818d-a286754dd153.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Deposit page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain which ones are working for this milestone</td></tr>
<tr><td> <em>Response:</em> <p>Withdraw form: allows user to withdraw money from the respective account<div>Account details: shows<br>transaction history</div><div>Transfer: allows user to transfer money from within the users multiple account<br>account. Also allows money transfer between two different users</div><div>Login page: allows user to<br>login</div><div>My account page: shows all the accounts the user holds and any relevant<br>Information&nbsp;</div><div>Deposit page: allows user to add money into the respective account</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Create a checking Account </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the Create Account Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235509833-3ca33f65-d662-415c-a3a2-39f77774e065.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Data filled in. Account number is auto generated and not shows to the<br>user until its viewd under My Accounts page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots showing validation errors and success message</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235510048-d7e37761-bb39-491f-8fe2-c4a79c345995.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>minimum funding validation<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235510115-7ee80ae4-f416-4bd0-8ffc-7a3780e40ec8.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>success message from task 1&#39;s data<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235510594-3eb560af-5eef-4b23-b257-a6f60acf5c40.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>ss from DB that account was added<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot showing the transaction generated from the initial deposit (from the DB)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235510923-89c6a89c-a1c9-406f-bb8d-88ea44eb6cb6.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Highlighted the transaction that occured<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Explain which account number generation you used and the account creation process including the transaction logic</td></tr>
<tr><td> <em>Response:</em> <div style="line-height: 18px; background-color: rgb(0, 0, 0); white-space: pre; font-size: 12px; font-family: Menlo,<br>Monaco, &quot;Courier New&quot;, monospace;"><div><span style="color: #7ca668;"># Generate random 12 digit account number that<br>isn't previously used</span></div><div>          <br> <span style="color: #9cdcfe;">account_number</span> <span style="color: #d4d4d4;">=</span> <span style="color: #ce9178;">""</span>.<span style="color: #dcdcaa;">join</span>([<span style="color:<br>#4ec9b0;">str</span>(<span style="color: #4ec9b0;">random</span>.<span style="color: #9cdcfe;">randint</span>(<span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">9</span>)) <span style="color: #c586c0;">for</span><br><span style="color: #9cdcfe;">_</span> <span style="color: #c586c0;">in</span> <span style="color: #4ec9b0;">range</span>(<span style="color: #b5cea8;">12</span>)])</div><div>Option 1: Generate<br>a random 12 digit/character value; must regenerate if a duplicate collision occurs.</div><div>We take<br>input from the user for the account_type and initial deposit. Using flask_login's current_user<br>feature we create a query and assign the data received to that user.</div><div>To<br>create transactions we use the world_account. We create a query to select the<br>world account and the the user's account from <span style="color: rgb(206, 145, 120);">IS601_S_Accounts.<br></span>The world account is the account_src and the user account is the account_dest,<br>initial deposit is</div><div>the balance_change. I'd paste the snip but its too long. </div><div>Finally<br>we update the system account_balancelike this:</div><div><span style="color: rgb(124, 166, 104);"># update system account<br>balance</span></div><div style="line-height: 18px;"><div>          <br>     <span style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">update</span>(</div><div>   <br>            <br>   <span style="color: #ce9178;">"""</span></div><div><span style="color: #ce9178;">     <br>          UPDATE IS601_S_Accounts</span></div><div><span style="color:<br>#ce9178;">            <br>   SET balance = balance - </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"><br> </span></div><div><span style="color: #ce9178;">         <br>      WHERE account_number = </span><span style="color: #569cd6;">%s</span></div><div><span style="color:<br>#ce9178;">            <br>   """</span>,</div><div>         <br>          <span style="color: #9cdcfe;">initial_deposit</span>,</div><div><br>            <br>      <span style="color: #9cdcfe;">WORLD_ACCOUNT_NUMBER</span>,</div><div>    <br>           )</div></div></div><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
<tr><td> <em>Sub-Task 6: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/accounts/create_account">https://is601-sgn26-prod.herokuapp.com/accounts/create_account</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User will be able to list their accounts </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the user's account list view (show 5 accounts)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235526167-2c5cf89e-4b8a-41a3-a26e-51e129ddbb24.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>shows all the relevant info<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how the page is displayed and the data lookup occurs</td></tr>
<tr><td> <em>Response:</em> <div style="background-color: rgb(0, 0, 0); font-family: Menlo, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px;<br>line-height: 18px; white-space: pre;"><div><span style="color: #9cdcfe;">accounts</span> <span style="color: #d4d4d4;">=</span> <span style="color: #4ec9b0;">DB</span>.<span style="color:<br>#dcdcaa;">selectAll</span>(</div><div>        <span style="color: #ce9178;">"SELECT * FROM<br>IS601_S_Accounts WHERE user_id=</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"> LIMIT 5"</span>, <span style="color: #9cdcfe;">current_user</span>.id</div><div> <br>  ).rows</div><div>Just this. A select query to select all accounts relating to<br>the current_user.id. </div><div>The .html file uses an if stat to verify the account,<br>then it uses a for loop to display the info related to the<br>current account. If a user has no accounts the a user friendly message<br>is displayed.</div></div><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/accounts">https://is601-sgn26-prod.herokuapp.com/accounts</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Account Transaction Details </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of an account's transaction history</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235526726-2ffeb340-a33f-4146-a661-ec852d03b0aa.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Relevant transaction info<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain how the lookup and display occurs</td></tr>
<tr><td> <em>Response:</em> <div style="background-color: rgb(0, 0, 0); font-family: Menlo, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px;<br>line-height: 18px; white-space: pre;"><div><span style="color: #9cdcfe;">account</span> <span style="color: #d4d4d4;">=</span> <span style="color: #4ec9b0;">DB</span>.<span style="color:<br>#dcdcaa;">selectOne</span>(</div><div>        <span style="color: #ce9178;">"SELECT * FROM<br>IS601_S_Accounts WHERE account_number=</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">"</span>,</div><div>      <br> <span style="color: #9cdcfe;">account_number</span>,</div><div>    ).row</div><div>    <span style="color:<br>#9cdcfe;">transaction_history</span> <span style="color: #d4d4d4;">=</span> <span style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">selectAll</span>(</div><div>    <br>   <span style="color: #ce9178;">"""</span></div><div><span style="color: #ce9178;">    SELECT account_src,<br>account_dest, balance_change, transaction_type, memo, expected_total, created </span></div><div><span style="color: #ce9178;">    FROM<br>IS601_Bank_Transaction WHERE account_src=</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"> ORDER BY created DESC</span></div><div><span style="color: #ce9178;"><br>   """</span>,</div><div>        <span style="color:<br>#9cdcfe;">account</span>[<span style="color: #ce9178;">"id"</span>],</div><div>    ).rows</div><div>This is how account and transaction history<br>is fetched. For loop in the .html file is used to display the<br>data.</div></div><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/accounts/details/159056793822">https://is601-sgn26-prod.herokuapp.com/accounts/details/159056793822</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 6: </em> Deposit/Withdraw </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Show a Screenshot of the Deposit Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235530294-c0733ce0-aeec-4e28-aaed-35cdf06a289f.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shows valid data filled in<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show a Screenshot of the Withdraw Page (this potentially can be the same page with different views)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235530495-1e423ccb-e477-410e-b05a-d38559e7c691.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Withdraw Page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Show validation error for negative numbers</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235530650-da8971e0-d996-481d-a2a4-5f0dba0af5e9.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Withdraw error message<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235530776-d2179c76-b88c-4a9b-8af1-71c67f80c7f6.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Deposit error message<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Show validation error for withdrawing more than the account contains</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235530922-3269db5f-8df1-4f63-8838-79beeabd9152.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shows validation error for withdrawing more than the account contains<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 5: </em> Show a success message for deposit and withdraw (2 screenshots)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235502766-dd1af3a3-de6a-40b7-91e1-3313d1b9677e.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shows withdraw success<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235531138-a9975c7b-ac7f-4da6-8a73-e79a2d0a030c.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shows deposit success<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 6: </em> Show a screenshot of the transaction pairs in the DB for the above tests</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/57045571/235531464-ff758fa5-5077-4b12-b296-42c8258b8df9.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Changes amrked by arrow for deposit and withdraw<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 7: </em> Briefly explain how transactions work</td></tr>
<tr><td> <em>Response:</em> <div style="background-color: rgb(0, 0, 0); font-family: Menlo, Monaco, &quot;Courier New&quot;, monospace; font-size: 12px;<br>line-height: 18px; white-space: pre;"><div><span style="color: #7ca668;"># Create the transaction pair</span></div><div>   <br>            <span<br>style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">insertOne</span>(</div><div>         <br>          <span style="color: #ce9178;">"""</span></div><div><span<br>style="color: #ce9178;">           <br>            INSERT<br>INTO IS601_Bank_Transaction (account_src, account_dest, balance_change, transaction_type, memo, </span></div><div><span style="color: #ce9178;">   <br>            <br>       expected_total, created, modified)</span></div><div><span style="color: #ce9178;"> <br>            <br>         VALUES (</span><span style="color: #569cd6;">%s</span><span<br>style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">,</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color:<br>#569cd6;">%s</span><span style="color: #ce9178;">,</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">,</span><span style="color:<br>#569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"> )</span></div><div><span style="color: #ce9178;">  <br>            <br>        """</span>,</div><div>    <br>            <br>  <span style="color: #9cdcfe;">from_account</span>[<span style="color: #ce9178;">"id"</span>],</div><div>      <br>            <br><span style="color: #9cdcfe;">to_account</span>[<span style="color: #ce9178;">"id"</span>],</div><div>        <br>           <span style="color:<br>#d4d4d4;">-</span><span style="color: #9cdcfe;">amount</span>,</div><div>          <br>         <span style="color: #ce9178;">"transfer"</span>,</div><div> <br>            <br>     <span style="color: #9cdcfe;">memo</span>,</div><div>     <br>            <br> <span style="color: #9cdcfe;">from_account</span>[<span style="color: #ce9178;">"balance"</span>] <span style="color: #d4d4d4;">-</span> <span style="color: #9cdcfe;">amount</span>,</div><div> <br>            <br>     <span style="color: #4ec9b0;">datetime</span>.<span style="color: #dcdcaa;">utcnow</span>(),</div><div>   <br>            <br>   <span style="color: #4ec9b0;">datetime</span>.<span style="color: #dcdcaa;">utcnow</span>(),</div><div>     <br>          )</div><div>  <br>            <br><span style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">insertOne</span>(</div><div>        <br>           <span style="color:<br>#ce9178;">"""</span></div><div><span style="color: #ce9178;">          <br>            <br>INSERT INTO IS601_Bank_Transaction (account_src, account_dest, balance_change, transaction_type, memo, </span></div><div><span style="color: #ce9178;">  <br>            <br>        expected_total, created, modified)</span></div><div><span style="color: #ce9178;"><br>            <br>          VALUES (</span><span style="color:<br>#569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">,</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">, </span><span<br>style="color: #569cd6;">%s</span><span style="color: #ce9178;">,</span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">,</span><span<br>style="color: #569cd6;">%s</span><span style="color: #ce9178;">, </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"> )</span></div><div><span style="color: #ce9178;"> <br>            <br>         """</span>,</div><div>   <br>            <br>   <span style="color: #9cdcfe;">to_account</span>[<span style="color: #ce9178;">"id"</span>],</div><div>     <br>            <br> <span style="color: #9cdcfe;">from_account</span>[<span style="color: #ce9178;">"id"</span>],</div><div>       <br>            <span<br>style="color: #9cdcfe;">amount</span>,</div><div>           <br>        <span style="color: #ce9178;">"transfer"</span>,</div><div>  <br>            <br>    <span style="color: #9cdcfe;">memo</span>,</div><div>      <br>            <br><span style="color: #9cdcfe;">to_account</span>[<span style="color: #ce9178;">"balance"</span>] <span style="color: #d4d4d4;">+</span> <span style="color: #9cdcfe;">amount</span>,</div><div>  <br>            <br>    <span style="color: #4ec9b0;">datetime</span>.<span style="color: #dcdcaa;">utcnow</span>(),</div><div>    <br>            <br>  <span style="color: #4ec9b0;">datetime</span>.<span style="color: #dcdcaa;">utcnow</span>(),</div><div>      <br>         )</div><div>We use a query<br>like this to do it in pairs. In the first DB query, we<br>do from_account which is user account and to_account which is either another account<br>in the</div><div>same usersname or a different user. This one is for reducing the<br>balance from user_account and the other DB query is to increase the balance<br>in the incoming account.</div><div><br></div><div><div style="line-height: 18px;"><div><span style="color: #7ca668;"># update  account balance</span></div><div> <br>            <br> <span style="color: #7ca668;"># Since its a withdrawal, we increment world account balance<br>and</span></div><div>            <br>   <span style="color: #7ca668;"># decrease user account balance</span></div><div>   <br>            <span<br>style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">update</span>(</div><div>         <br>          <span style="color: #ce9178;">"""</span></div><div><span<br>style="color: #ce9178;">           <br>            UPDATE<br>IS601_S_Accounts</span></div><div><span style="color: #ce9178;">          <br>            <br>SET balance = balance + </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;">  </span></div><div><span style="color:<br>#ce9178;">            <br>           WHERE account_number<br>= </span><span style="color: #569cd6;">%s</span></div><div><span style="color: #ce9178;">       <br>            <br>   """</span>,</div><div>         <br>          <span style="color: #9cdcfe;">amount</span>,</div><div><br>            <br>      <span style="color: #9cdcfe;">dest_account_number</span>,</div><div>    <br>           )</div><div> <br>            <br> <span style="color: #4ec9b0;">DB</span>.<span style="color: #dcdcaa;">update</span>(</div><div>       <br>            <span<br>style="color: #ce9178;">"""</span></div><div><span style="color: #ce9178;">         <br>            <br> UPDATE IS601_S_Accounts</span></div><div><span style="color: #ce9178;">        <br>            <br>  SET balance = balance - </span><span style="color: #569cd6;">%s</span><span style="color: #ce9178;"> <br></span></div><div><span style="color: #ce9178;">          <br>            <br>WHERE account_number = </span><span style="color: #569cd6;">%s</span></div><div><span style="color: #ce9178;">     <br>            <br>     """</span>,</div><div>       <br>            <span<br>style="color: #9cdcfe;">amount</span>,</div><div>           <br>        <span style="color: #9cdcfe;">src_account_number</span>,</div><div>  <br>            <br>)</div><div>This is done to update the account_balance.</div></div></div></div><br></td></tr>
<tr><td> <em>Sub-Task 8: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/Sid216/IS601-006/pull/28">https://github.com/Sid216/IS601-006/pull/28</a> </td></tr>
<tr><td> <em>Sub-Task 9: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/accounts/deposit">https://is601-sgn26-prod.herokuapp.com/accounts/deposit</a> </td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/accounts/withdraw">https://is601-sgn26-prod.herokuapp.com/accounts/withdraw</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 7: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Describe any issues and learnings throughout this milestone</td></tr>
<tr><td> <em>Response:</em> <p>(missing)</p><br></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a link to your herok prod project's login page</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://is601-sgn26-prod.herokuapp.com/login">https://is601-sgn26-prod.herokuapp.com/login</a> </td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IS601-006-S23/is601-milestone-2-bank-project/grade/sgn26" target="_blank">Grading</a></td></tr></table>